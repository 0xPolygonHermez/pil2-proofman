
subproof AirthLib(2**16) {

    col witness x1, y1, x2, y2, x3, y3;
    const int p2_256 = 2**256;

    /*
    <%- equation('pol eq0_## =', 'x1*y1-p2_256*y2+x2-y3', {p2_256: 0x10000000000000000000000000000000000000000000000000000000000000000n}) %>
*/
    arith_eq_create(16);
    arith_eq_double_term(1, x1, y1);
    arith_eq_term(p2_256, y2);
    arith_eq_term(1, x2);
    arith_eq_term(-1, y3);
    const expr eqs = arith_eq_generate();
    #pragma dump eqs
    println(eqs);
    /*

    <%- equation('pol eq1_## =', 's*x2-s*x1-y2+y1-p*q0+p*offset', {p: 0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,
                                                                   offset:0x20000000000000000000000000000000000000000000000000000000000000000n}) %>
    <%- equation('pol eq2_## =', 's*y1+s*y1-x1*x1-x1*x1-x1*x1+p*q0-p*offset', {p: 0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,
                                                                               offset:0x40000000000000000000000000000000000000000000000000000000000000000n}) %>

    <%- equation('pol eq3_## =', 's*s-x1-x2-x3-p*q1+p*offset', {p: 0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,
                                                                offset:0x4n}) %>

    <%- equation('pol eq4_## =', 's*x1-s*x3-y1-y3+p*q2-p*offset', {p: 0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,
                                                                   offset:0x20000000000000000000000000000000000000000000000000000000000000000n}) %>

    <%- equation('pol eq5_## =', 'x1*x2-y1*y2-x3+p*q1-p*offset', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n,
                                                                  offset:0x80000000000000000000000000000000000000000000000000000000000000000n}) %>
    <%- equation('pol eq6_## =', 'y1*x2+x1*y2-y3-p*q2', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n}) %>

    <%- equation('pol eq7_## =', 'x1+x2-x3-p*q1', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n}) %>
    <%- equation('pol eq8_## =', 'y1+y2-y3-p*q2', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n}) %>
    <%- equation('pol eq9_## =', 'x1-x2-x3+p*q1-p*offset', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n,
                                                            offset: 8n}) %>

    <%- equation('pol eq10_## =', 'y1-y2-y3+p*q2-p*offset', {p: 21888242871839275222246405745257275088696311157297823662689037894645226208583n,
                                                             offset: 8n}) %>
    <%- equation('pol eq11_## =', 'x1*y1+x2-y3-q1*y2*powOfTwo-q0*y2', {powOfTwo: 0x10000000000000000000000000000000000000000000000000000000000000000n}) %>
    <%- equation('pol eq12_## =', 'x1*y1+x2-y3-q1*y2*powOfTwo-q0*y2', {powOfTwo: 0x1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000n}, {chunkBits: 24}) %>

    <%- equation('pol eq13_## =', 'x1*x2-y1*y2-x3+p*q1-p*offset', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,
    <%- equation('pol eq14_## =', 'y1*x2+x1*y2-y3-p*q2', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn}, 
                                                         {chunkBits: 24}) %>

    <%- equation('pol eq15_## =', 'x1+x2-x3-p*q1', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn},
                                                   {chunkBits: 24}) %>
    <%- equation('pol eq16_## =', 'y1+y2-y3-p*q2', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn},
                                                   {chunkBits: 24}) %>

    <%- equation('pol eq17_## =', 'x1-x2-x3+p*q1-p*offset', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,
                                                            offset: 16n}, {chunkBits: 24}) %>
    <%- equation('pol eq18_## =', 'y1-y2-y3+p*q2-p*offset', {p: 0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,
                                                             offset: 16n}, {chunkBits: 24}) %>
    */


    /* const expr _values[2][3];
    _values[0] = [1, x1, x2];
    _values[1] = [1, x1, x2];
    generate(_values);*/
}

function arith_eq_create(const int chunks) {
    println(chunks);
}

function arith_eq_term(const int multiplier, const expr e)  {
    println(multiplier);
}

function arith_eq_double_term(const int multiplier, const expr e1, const expr e2)  {
    println(multiplier);
}

function arith_eq_generate(): expr {
    const expr values[3];
    col witness a;
    values[0] = a;
    values[1] = 2;
    values[2] = 3;
    #pragma debugger
    const int k = values[1] + values[2];
    println(100);
    println(k);
    return values[0] + values[1] + values[2];
}